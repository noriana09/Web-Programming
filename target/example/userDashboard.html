<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
</head>
<body>
<div class="dashboard">
    <h1>User Dashboard</h1>

    <div id="userProfile">
        <p>
            Username: <span id="usernameDisplay"></span>
        </p>
        <p>
            Email: <span id="emailDisplay"></span>

        </p>
        <p>
            First Name: <span id="firstnameDisplay"></span>
            <input id="firstname" type="text" style="display: none;">
            <button id="editFirstname">Edit</button>
        </p>
        <p>
            Last Name: <span id="lastnameDisplay"></span>
            <input id="lastname" type="text" style="display: none;">
            <button id="editLastname">Edit</button>
        </p>
        <p>
            Birthdate: <span id="birthdateDisplay"></span>
            <input id="birthdate" type="date" style="display: none;">
            <button id="editBirthdate">Edit</button>
        </p>
        <p>
            Gender: <span id="genderDisplay"></span>
            <select id="gender" style="display: none;">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
            <button id="editGender">Edit</button>
        </p>
        <p>
            Country: <span id="countryDisplay"></span>
            <input id="country" type="text" style="display: none;">
            <button id="editCountry">Edit</button>
        </p>
        <p>
            Address: <span id="addressDisplay"></span>
            <input id="address" type="text" style="display: none;">
            <button id="editAddress">Edit</button>
        </p>
        <p>
            Municipality: <span id="municipalityDisplay"></span>
            <input id="municipality" type="text" style="display: none;">
            <button id="editMunicipality">Edit</button>
        </p>
        <p>
            Prefecture: <span id="prefectureDisplay"></span>
            <input id="prefecture" type="text" style="display: none;">
            <button id="editPrefecture">Edit</button>
        </p>
        <p>
            Job: <span id="jobDisplay"></span>
            <input id="job" type="text" style="display: none;">
            <button id="editJob">Edit</button>
        </p>
        <p>
            Telephone: <span id="telephoneDisplay"></span>
        </p>
        <p>
            AFM: <span id="afmDisplay"></span>
        </p>
        <p>
            Latitude: <span id="latitudeDisplay"></span>
            <input id="latitude" type="text" style="display: none;">
            <button id="editLatitude">Edit</button>
        </p>
        <p>
            Longitude: <span id="longitudeDisplay"></span>
            <input id="longitude" type="text" style="display: none;">
            <button id="editLongitude">Edit</button>
        </p>
    </div>
</div>
<br>
<button id="saveChangesButton" style="display: none;">Save Changes</button>

<br>

<h2>Add Incident</h2>
<form id="add-incident-form">
    <label for="incident_type_input">Incident Type:</label>
    <input type="text" id="incident_type_input" placeholder="Incident Type (fire/accident)" required>
    <br>

    <label for="description_input">Description:</label>
    <input type="text" id="description_input" placeholder="Description" required>
    <br>

    <label for="user_type_input">User Type:</label>
    <input type="text" id="user_type_input" placeholder="User Type (guest/admin/user)" required>
    <br>

    <label for="user_phone_input">User Phone:</label>
    <input type="text" id="user_phone_input" placeholder="User Phone" required>
    <br>

    <label for="address_input">Address:</label>
    <input type="text" id="address_input" placeholder="Address" required>
    <br>

    <label for="lat_input">Latitude:</label>
    <input type="number" id="lat_input" placeholder="Latitude (e.g., 35.42)" step="0.0001">
    <br>

    <label for="lon_input">Longitude:</label>
    <input type="number" id="lon_input" placeholder="Longitude (e.g., 25.33)" step="0.0001">
    <br>

    <label for="prefecture_input">Prefecture:</label>
    <input type="text" id="prefecture_input" placeholder="Prefecture (heraklion/chania/rethymno/lasithi)" required>
    <br>

    <label for="municipality_input">Municipality:</label>
    <input type="text" id="municipality_input" placeholder="Municipality" required>
    <br>

    <button type="submit">Add Incident</button>
</form>
<p id="add-incident-result"></p>

<br>

<div id="incidentList" class="incident-list">
    <h2>Active Incidents Near You</h2>
    <p>Loading incidents...</p>
</div>

<br>

<h2>Public messages for running incidents</h2>
<div id="publicMessagesContainer">
    <p>Loading public messages...</p>
</div>

<br>

<div id="sendMessageSection">
    <h2>Send a Message</h2>
    <form id="sendMessageForm">
        <label for="incidentSelect">Select Incident:</label>
        <select id="incidentSelect" required>
            <option value="">-- Select an Incident --</option>
        </select>
        <br>
        <label for="recipient">Recipient:</label>
        <select id="recipient" required>
            <option value="">-- Select Recipient --</option>
            <option value="public">Public</option>
            <option value="admin">Admin</option>
        </select>
        <br>
        <label for="messageContent">Message:</label>
        <textarea id="messageContent" placeholder="Enter your message" required></textarea>
        <br>
        <button type="submit">Send Message</button>
    </form>
    <p id="sendMessageResult"></p>
</div>


<br>
<div class="logout">
    <button onclick="logout()">Logout</button>
</div>

<script src="js/logout.js"></script>
<script src="js/userDashboard.js"></script>
<link rel="stylesheet" href="css/user.css">
</body>
</html>
